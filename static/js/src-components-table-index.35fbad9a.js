(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./src/components/Table/index.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=(n("react"),n("./node_modules/@mdx-js/react/dist/esm.js")),l={};function b(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object.assign({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"table-\u8868\u683c"},"Table \u8868\u683c"),Object(r.b)("h2",{id:"\u7528\u6cd5"},"\u7528\u6cd5"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-sh"},'import { Table } from \'dp-react\'\n\nconst API = {\n  getData: async function(req){\n    return new Promise((resolve, reject) => {\n      axios.get(\'/api/getList\').then(result => {\n        resolve(result.data)\n      }).catch(err => {\n        console.error(err)\n        reject(err)\n      })\n    })\n  }\n}\n\n// \u8868\u5355\u5217\u6570\u636e updateMethod \u5237\u65b0\u65b9\u6cd5\nconst getColumn = updateMethod => {\n  return [\n    {\n      title: "\u59d3\u540d",\n      dataIndex: "name",\n      key: "name",\n    },\n    {\n      title: "\u624b\u673a\u53f7",\n      dataIndex: "phone",\n      key: "phone",\n    },\n    {\n      title: "\u5730\u5740",\n      dataIndex: "address",\n      key: "address",\n    },\n    {\n      title: \'\u64cd\u4f5c\',\n      key: \'setting\',\n      width: 200,\n      render: (text: any, record: any, index: number) => {\n        return (\n          <div>\n            <Button type="primary" style={{ marginRight: \'5px\' }}>\u67e5\u770b</Button>\n            <Popconfirm\n              title="\u6b64\u64cd\u4f5c\u5c06\u6c38\u4e45\u5220\u9664\u8be5\u9879\u76ee, \u662f\u5426\u7ee7\u7eed?"\n              okText="\u786e\u5b9a"\n              cancelText="\u53d6\u6d88"\n              onConfirm={() => {\n                updateMethod()\n              }}\n            >\n              <Button danger>\u5220\u9664</Button>\n            </Popconfirm>\n          </div>\n        )\n      }\n    }\n  ];\n}\n\n<Table\n  ownColumns={updatefunc => getColumn(updatefunc)}\n  fetchAction={API.getData}\n  fetchParams={searchParams}\n/>\n')),Object(r.b)("h2",{id:"api\u6587\u6863"},"API\u6587\u6863"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"\u5c5e\u6027"),Object(r.b)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),Object(r.b)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),Object(r.b)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),Object(r.b)("th",{parentName:"tr",align:null},"\u662f\u5426\u5fc5\u4f20"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"ownColumns"),Object(r.b)("td",{parentName:"tr",align:null},"\u8868\u683c\u5217\u6570\u636e\u914d\u7f6e updateMethod \u5237\u65b0\u65b9\u6cd5"),Object(r.b)("td",{parentName:"tr",align:null},"(updatefunc:Function)\uff1a columns"),Object(r.b)("td",{parentName:"tr",align:null},"-"),Object(r.b)("td",{parentName:"tr",align:null},"\u662f")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"fetchAction"),Object(r.b)("td",{parentName:"tr",align:null},"\u5f02\u6b65\u8bf7\u6c42\uff0c\u83b7\u53d6\u8868\u683c\u6570\u636e"),Object(r.b)("td",{parentName:"tr",align:null},"(payload)\uff1aPromise"),Object(r.b)("td",{parentName:"tr",align:null},"-"),Object(r.b)("td",{parentName:"tr",align:null},"\u662f")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"fetchParams"),Object(r.b)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u9644\u52a0\u53c2\u6570"),Object(r.b)("td",{parentName:"tr",align:null},"{}"),Object(r.b)("td",{parentName:"tr",align:null},"-"),Object(r.b)("td",{parentName:"tr",align:null})),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"baseProps"),Object(r.b)("td",{parentName:"tr",align:null},"Table\u57fa\u7840\u914d\u7f6e"),Object(r.b)("td",{parentName:"tr",align:null},"{}"),Object(r.b)("td",{parentName:"tr",align:null},"rowKey\u9ed8\u8ba4\u662fid"),Object(r.b)("td",{parentName:"tr",align:null})))),Object(r.b)("h2",{id:"\u63a5\u53e3\u8fd4\u56de\u6570\u636e\u683c\u5f0f"},"\u63a5\u53e3\u8fd4\u56de\u6570\u636e\u683c\u5f0f"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"{\n  state: 1, // \u8bf7\u6c42\u6210\u529f\n  list: [], // \u8868\u683c\u6570\u636e\n  page: {\n    current: 1, // \u7b2c\u51e0\u9875\n    pageSize: 10, // \u6bcf\u9875\u6570\u91cf\n    total: 200,  // \u6570\u636e\u603b\u91cf\uff08\u5fc5\u987b\u8fd4\u56de\uff09\n    totalPage\uff1a20 // \u5206\u9875\u603b\u91cf\n  }\n}\n")))}b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src\\components\\Table\\index.mdx"}}),b.isMDXComponent=!0}}]);