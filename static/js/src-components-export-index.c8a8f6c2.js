(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./src/components/Export/index.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=n("react"),o=n.n(a),s=n("./node_modules/@mdx-js/react/dist/esm.js"),c=(n("./node_modules/docz/dist/index.esm.js"),n("./node_modules/antd/es/button/style/index.js"),n("./node_modules/antd/es/button/index.js")),u=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),p=n.n(i),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),d=n("./node_modules/mockjs/dist/mock.js"),m=n.n(d),f=n("./node_modules/file-saver/dist/FileSaver.min.js"),b=n.n(f),x=function(){var e=Object(l.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{var r=m.a.Random;e(new Array(t).fill("").map((function(e,t){return{id:"200820-".concat(t),username:r.cname(),url:r.url("http"),price:r.float(0,11e4,0,2),createAt:r.datetime("yyyy-MM-dd HH:mm:ss")}})))}catch(a){n(a)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();"undefined"!==typeof x&&x&&x===Object(x)&&Object.isExtensible(x)&&Object.defineProperty(x,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getData",filename:"src\\components\\Export\\index.tsx"}});var j=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],s=n[1],i=(e.total,e.size,e.onProcess,function(){var e=Object(l.a)(p.a.mark((function e(t,n){var r,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:function(e){},e.prev=1,e.delegateYield(p.a.mark((function e(){var a,o,s,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw"\u65e0\u6570\u636e";case 2:a=Math.ceil(t/n),(o=[]).push(["\u7f16\u53f7","\u7528\u6237\u540d","\u5b98\u7f51","\u62a5\u4ef7","\u521b\u5efa\u65e5\u671f"].join()+"\n"),s=p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(l.a)(p.a.mark((function e(r,s){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(n);case 3:return e.sent.map((function(e){o.push(Object.values(e).join()+"\n")})),c=t/a*100,console.log("\u8fdb\u5ea6 ".concat(Math.round(c),"%")),e.next=9,new Promise((function(e){setTimeout((function(){e(!0)}),50)}));case 9:r(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})),c=0;case 7:if(!(c<a)){e.next=12;break}return e.delegateYield(s(c),"t0",9);case 9:c++,e.next=7;break;case 12:return r(100),u=new Blob([String.fromCharCode(65279)].concat(o),{type:"text/plain;charset=utf-8"}),e.next=16,b.a.saveAs(u,"file.csv");case 16:case"end":return e.stop()}}),e)}))(),"t0",3);case 3:e.next=8;break;case 5:return e.prev=5,e.t1=e.catch(1),e.abrupt("return",Promise.reject(e.t1));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n){return e.apply(this,arguments)}}()),d=function(){var e=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,i(12e5,2e3,(function(e){console.log("process",e)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:return e.prev=9,s(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(c.a,{onClick:function(){return d()},disabled:r},"\u5bfc\u51faCSV\u8868\u683c")};j.defaultProps={total:0,size:1e3};j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Export",filename:"src\\components\\Export\\index.tsx"}});var v={};function h(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object.assign({},v,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"export-\u5bfc\u51fa"},"Export \u5bfc\u51fa"))}h&&h===Object(h)&&Object.isExtensible(h)&&Object.defineProperty(h,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src\\components\\Export\\index.mdx"}}),h.isMDXComponent=!0}}]);