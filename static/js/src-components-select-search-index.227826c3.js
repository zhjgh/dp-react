(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./src/components/SelectSearch/index.mdx":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),l=a("react"),r=a.n(l),o=a("./node_modules/@mdx-js/react/dist/esm.js"),c=a("./node_modules/docz/dist/index.esm.js"),i=(a("./node_modules/antd/es/select/style/index.js"),a("./node_modules/antd/es/select/index.js")),s=(a("./node_modules/antd/es/spin/style/index.js"),a("./node_modules/antd/es/spin/index.js")),p=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),u=a.n(p),b=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),d=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),m=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),g=a("./node_modules/axios/index.js"),j=a.n(g),f=a("./node_modules/lodash/lodash.js"),h=a.n(f),O=a("./src/setting.ts"),N=Object(l.forwardRef)((function(e,t){var a=e.action,n=e.headers,o=e.fetchData,c=e.labelAndValue,p=e.defaultValue,g=e.pageSize,f=e.debounceTimeout,N=e.mode,y=e.maxTagCount,x=Object(l.useState)(!1),S=Object(m.a)(x,2),z=S[0],I=S[1],T=Object(l.useState)(""),_=Object(m.a)(T,2),w=_[0],M=_[1],v=Object(l.useState)([]),U=Object(m.a)(v,2),E=U[0],C=U[1],D=Object(l.useRef)(1),J=Object(l.useState)(0),A=Object(m.a)(J,2),Z=A[0],Q=A[1],F=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,l){j()({url:a,method:"post",data:Object(b.a)({name:t,page:D.current,pageSize:g},o),headers:n}).then((function(t){var a=t.data.result,n=a.list,l=a.page;Q(l.totalPage);var r=n&&n.map((function(){return{label:c[0],value:c[1]}}));e(r)})).catch((function(e){l(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(l.useMemo)((function(){return h.a.debounce((function(e,t){if(I(!0),"search"===t)D.current=1,C([]),F(e).then((function(t){M(e),C(t),console.log("name",e),console.log("newOptions",t)}));else{if(D.current>=Z)return;D.current+=1,F(w).then((function(e){C(E.concat(e)),console.log("name",w),console.log("newOptions",E.concat(e))}))}console.log("page",D.current),I(!1)}),f)}),[F,f]);return Object(l.useEffect)((function(){return P(w,"search"),function(){console.log("\u7ec4\u4ef6\u5378\u8f7d\u4e86..."),C([])}}),[]),r.a.createElement(i.a,{ref:t,placeholder:"".concat(O.a.selectSearch.pleaseSelect," ").concat(void 0!==N?O.a.selectSearch.multiple:""),style:{width:"100%"},showArrow:!0,showSearch:!0,autoClearSearchValue:!0,mode:N,maxTagCount:y,defaultValue:p,onPopupScroll:function(){return P(w,"scroll")},labelInValue:!0,filterOption:!1,onSearch:function(e){return P(e,"search")},notFoundContent:z?r.a.createElement(s.a,{size:"small"}):null,options:E})}));N.defaultProps={mode:void 0,pageSize:10,debounceTimeout:800,maxTagCount:3,labelAndValue:["name","id"]};var y=N;"undefined"!==typeof N&&N&&N===Object(N)&&Object.isExtensible(N)&&Object.defineProperty(N,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SelectSearch",filename:"src\\components\\SelectSearch\\index.tsx"}});var x={};function S(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object.assign({},x,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"selectsearch-\u4e0b\u62c9\u641c\u7d22\u5206\u9875\u52a0\u8f7d"},"SelectSearch \u4e0b\u62c9\u641c\u7d22\u5206\u9875\u52a0\u8f7d"),Object(o.b)("h4",{id:"\u9ed8\u8ba4\uff08\u5355\u9009\uff09"},"\u9ed8\u8ba4\uff08\u5355\u9009\uff09"),Object(o.b)(c.c,{__position:0,__code:"<SelectSearch\n  action=\"http://platform-gateway.platform.svc.dragon/boss/supplier/info/getPage\"\n  headers={{\n    Token:\n      'eyJhbGciOiJIUzUxMiJ9.eyJleHAiOjE2MTUzNzQ1MDUsInVpZCI6IjExMDUzIiwiaWF0IjoxNjE1MzYzNzA1fQ.pNgHEvZXfAxwNHD_mmQIfvHl-T8Zi-ZUwyCMg1fuSEQpMnr6kvwslQA-JWCziT1iLT1XjF8DxXC2ZOFUCTlIng',\n  }}\n/>",__scope:{props:this?this.props:a,Playground:c.c,SelectSearch:y},__codesandbox:"undefined",mdxType:"Playground"},Object(o.b)(y,{action:"http://platform-gateway.platform.svc.dragon/boss/supplier/info/getPage",headers:{Token:"eyJhbGciOiJIUzUxMiJ9.eyJleHAiOjE2MTUzNzQ1MDUsInVpZCI6IjExMDUzIiwiaWF0IjoxNjE1MzYzNzA1fQ.pNgHEvZXfAxwNHD_mmQIfvHl-T8Zi-ZUwyCMg1fuSEQpMnr6kvwslQA-JWCziT1iLT1XjF8DxXC2ZOFUCTlIng"},mdxType:"SelectSearch"})),Object(o.b)("h4",{id:"\u591a\u9009"},"\u591a\u9009"),Object(o.b)(c.c,{__position:1,__code:'<SelectSearch\n  mode="multiple"\n  action="http://platform-gateway.platform.svc.dragon/boss/supplier/info/getPage"\n  headers={{\n    Token:\n      \'eyJhbGciOiJIUzUxMiJ9.eyJleHAiOjE2MTUzNzQ1MDUsInVpZCI6IjExMDUzIiwiaWF0IjoxNjE1MzYzNzA1fQ.pNgHEvZXfAxwNHD_mmQIfvHl-T8Zi-ZUwyCMg1fuSEQpMnr6kvwslQA-JWCziT1iLT1XjF8DxXC2ZOFUCTlIng\',\n  }}\n/>',__scope:{props:this?this.props:a,Playground:c.c,SelectSearch:y},__codesandbox:"undefined",mdxType:"Playground"},Object(o.b)(y,{mode:"multiple",action:"http://platform-gateway.platform.svc.dragon/boss/supplier/info/getPage",headers:{Token:"eyJhbGciOiJIUzUxMiJ9.eyJleHAiOjE2MTUzNzQ1MDUsInVpZCI6IjExMDUzIiwiaWF0IjoxNjE1MzYzNzA1fQ.pNgHEvZXfAxwNHD_mmQIfvHl-T8Zi-ZUwyCMg1fuSEQpMnr6kvwslQA-JWCziT1iLT1XjF8DxXC2ZOFUCTlIng"},mdxType:"SelectSearch"})),Object(o.b)("h4",{id:"\u9ed8\u8ba4\u503c"},"\u9ed8\u8ba4\u503c"),Object(o.b)(c.c,{__position:2,__code:"<SelectSearch\n  mode=\"multiple\"\n  action=\"http://platform-gateway.platform.svc.dragon/boss/supplier/info/getPage\"\n  headers={{\n    Token:\n      'eyJhbGciOiJIUzUxMiJ9.eyJleHAiOjE2MTUzNzQ1MDUsInVpZCI6IjExMDUzIiwiaWF0IjoxNjE1MzYzNzA1fQ.pNgHEvZXfAxwNHD_mmQIfvHl-T8Zi-ZUwyCMg1fuSEQpMnr6kvwslQA-JWCziT1iLT1XjF8DxXC2ZOFUCTlIng',\n  }}\n  defaultValue={[\n    { label: '\u5e7f\u5dde\u767d\u4e91\u56fd\u9645\u673a\u573a\u5546\u65c5\u670d\u52a1\u6709\u9650\u516c\u53f8', value: '2611' },\n  ]}\n  fetchData={{\n    lg: 'zh-cn',\n  }}\n/>",__scope:{props:this?this.props:a,Playground:c.c,SelectSearch:y},__codesandbox:"undefined",mdxType:"Playground"},Object(o.b)(y,{mode:"multiple",action:"http://platform-gateway.platform.svc.dragon/boss/supplier/info/getPage",headers:{Token:"eyJhbGciOiJIUzUxMiJ9.eyJleHAiOjE2MTUzNzQ1MDUsInVpZCI6IjExMDUzIiwiaWF0IjoxNjE1MzYzNzA1fQ.pNgHEvZXfAxwNHD_mmQIfvHl-T8Zi-ZUwyCMg1fuSEQpMnr6kvwslQA-JWCziT1iLT1XjF8DxXC2ZOFUCTlIng"},defaultValue:[{label:"\u5e7f\u5dde\u767d\u4e91\u56fd\u9645\u673a\u573a\u5546\u65c5\u670d\u52a1\u6709\u9650\u516c\u53f8",value:"2611"}],fetchData:{lg:"zh-cn"},mdxType:"SelectSearch"})),Object(o.b)("h2",{id:"\u7528\u6cd5"},"\u7528\u6cd5"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-sh"},"import { SelectSearch } from 'dp-react'\n\n<SelectSearch\n  action=\"http://platform-gateway.platform.svc.dragon/boss/supplier/info/getPage\"\n  headers={{\n    Token:\n      'eyJhbGciOiJIUzUxMiJ9.eyJleHAiOjE2MTQ2MDA3ODMsInVpZCI6IjExMDUzIiwiaWF0IjoxNjE0NTg5OTgzfQ.MzVzrVZwSby3sep5HJkoBzWmsTaZ8ntRd0KsEavODjqz_P3n2DttL3QUuwsnGIIC4SwkTpq6-dv5mpTPiuZk0g',\n  }}\n  fetchData={{\n    lg: 'zh-cn',\n  }}\n/>\n")),Object(o.b)("h2",{id:"api\u6587\u6863"},"API\u6587\u6863"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"\u5c5e\u6027"),Object(o.b)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),Object(o.b)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),Object(o.b)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),Object(o.b)("th",{parentName:"tr",align:null},"\u662f\u5426\u5fc5\u4f20"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"action"),Object(o.b)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u5730\u5740"),Object(o.b)("td",{parentName:"tr",align:null},"string"),Object(o.b)("td",{parentName:"tr",align:null},"-"),Object(o.b)("td",{parentName:"tr",align:null},"\u662f")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"headers"),Object(o.b)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u5934\u53c2\u6570"),Object(o.b)("td",{parentName:"tr",align:null},"{}"),Object(o.b)("td",{parentName:"tr",align:null},"-"),Object(o.b)("td",{parentName:"tr",align:null})),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"fetchData"),Object(o.b)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u9644\u52a0\u53c2\u6570"),Object(o.b)("td",{parentName:"tr",align:null},"{}"),Object(o.b)("td",{parentName:"tr",align:null},"-"),Object(o.b)("td",{parentName:"tr",align:null})),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"pageSize"),Object(o.b)("td",{parentName:"tr",align:null},"\u5206\u9875\u6570\u91cf"),Object(o.b)("td",{parentName:"tr",align:null},"number"),Object(o.b)("td",{parentName:"tr",align:null},"10"),Object(o.b)("td",{parentName:"tr",align:null})),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"debounceTimeout"),Object(o.b)("td",{parentName:"tr",align:null},"\u5ef6\u8fdf\u8bf7\u6c42\u65f6\u95f4\uff08\u5355\u4f4d\u6beb\u79d2\uff09"),Object(o.b)("td",{parentName:"tr",align:null},"number"),Object(o.b)("td",{parentName:"tr",align:null},"800"),Object(o.b)("td",{parentName:"tr",align:null})),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"labelAndValue"),Object(o.b)("td",{parentName:"tr",align:null},"\u6307\u5b9alabel\u548cvalue\u7684\u53c2\u6570\u540d\u79f0"),Object(o.b)("td",{parentName:"tr",align:null},"string[]"),Object(o.b)("td",{parentName:"tr",align:null},"['name', 'id']"),Object(o.b)("td",{parentName:"tr",align:null})))),Object(o.b)("h2",{id:"\u63a5\u53e3\u8fd4\u56de\u6570\u636e\u683c\u5f0f"},"\u63a5\u53e3\u8fd4\u56de\u6570\u636e\u683c\u5f0f"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"{\n  state: 1, // \u8bf7\u6c42\u6210\u529f\n  list: [], // \u8868\u683c\u6570\u636e\n  page: {\n    current: 1, // \u7b2c\u51e0\u9875\n    pageSize: 10, // \u6bcf\u9875\u6570\u91cf\n    total: 200,  // \u6570\u636e\u603b\u91cf\n    totalPage\uff1a20 // \u5206\u9875\u603b\u91cf\uff08\u5fc5\u987b\u8fd4\u56de\uff09\n  }\n}\n")))}S&&S===Object(S)&&Object.isExtensible(S)&&Object.defineProperty(S,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src\\components\\SelectSearch\\index.mdx"}}),S.isMDXComponent=!0},"./src/setting.ts":function(e,t,a){"use strict";var n=window.lang=new Proxy({},{get:function(e,t){return e[t]||t}});t.a={searchGroup:{search:n&&n["\u67e5\u8be2"]||"\u67e5\u8be2",moreSearch:n&&n["\u66f4\u591a\u67e5\u8be2"]||"\u66f4\u591a\u67e5\u8be2",hideSearch:n&&n["\u6536\u8d77\u67e5\u8be2"]||"\u6536\u8d77\u67e5\u8be2",clean:n&&n["\u6e05\u7a7a"]||"\u6e05\u7a7a",pleaseInput:n&&n["\u8bf7\u8f93\u5165"]||"\u8bf7\u8f93\u5165",pleaseSelect:n&&n["\u5168\u90e8"]||"\u5168\u90e8",startTime:n&&n["\u5f00\u59cb\u65f6\u95f4"]||"\u5f00\u59cb\u65f6\u95f4",endTime:n&&n["\u7ed3\u675f\u65f6\u95f4"]||"\u7ed3\u675f\u65f6\u95f4"},uploadFile:{pleaseUpload:n&&n["\u8bf7\u4e0a\u4f20"]||"\u8bf7\u4e0a\u4f20",fileType:n&&n["\u7c7b\u578b\u7684\u6587\u4ef6"]||"\u7c7b\u578b\u7684\u6587\u4ef6",fileTypeError:n&&n["\u6587\u4ef6\u7c7b\u578b\u4e0d\u7b26\u5408"]||"\u6587\u4ef6\u7c7b\u578b\u4e0d\u7b26\u5408",fileSizeLimit:n&&n["\u6587\u4ef6\u9650\u5236\u5927\u5c0f"]||"\u6587\u4ef6\u9650\u5236\u5927\u5c0f",fileReachLimit:n&&n["\u6587\u4ef6\u5df2\u8fbe\u4e0a\u9650"]||"\u6587\u4ef6\u5df2\u8fbe\u4e0a\u9650",addFile:n&&n["\u6dfb\u52a0\u6587\u4ef6"]||"\u6dfb\u52a0\u6587\u4ef6",singleFileNoMoreThan:n&&n["\u5355\u4e2a\u6587\u4ef6\u4e0d\u8d85\u8fc7"]||"\u5355\u4e2a\u6587\u4ef6\u4e0d\u8d85\u8fc7",uploadAgainError:n&&n["\u518d\u6b21\u4e0a\u4f20\u5931\u8d25"]||"\u518d\u6b21\u4e0a\u4f20\u5931\u8d25",uploadAgain:n&&n["\u91cd\u65b0\u4e0a\u4f20"]||"\u91cd\u65b0\u4e0a\u4f20",delete:n&&n["\u5220\u9664"]||"\u5220\u9664",uploadSuccess:n&&n["\u4e0a\u4f20\u6210\u529f"]||"\u4e0a\u4f20\u6210\u529f",uploadFail:n&&n["\u4e0a\u4f20\u5931\u8d25"]||"\u4e0a\u4f20\u5931\u8d25"},uploadImage:{uploadFail:n&&n["\u4e0a\u4f20\u5931\u8d25"]||"\u4e0a\u4f20\u5931\u8d25",uploadAgain:n&&n["\u91cd\u65b0\u4e0a\u4f20"]||"\u91cd\u65b0\u4e0a\u4f20",noData:n&&n["\u6682\u65e0\u6570\u636e"]||"\u6682\u65e0\u6570\u636e",canDragDrop:n&&n["\u53ef\u62d6\u62fd"]||"\u53ef\u62d6\u62fd",correctImage:n&&n["\u8bf7\u4e0a\u4f20\u6b63\u5e38\u56fe\u7247\u683c\u5f0f"]||"\u8bf7\u4e0a\u4f20\u6b63\u5e38\u56fe\u7247\u683c\u5f0f",maxLengthLimit:n&&n["\u9009\u62e9\u7684\u56fe\u7247\u4e0d\u53ef\u8d85\u8fc7"]||"\u9009\u62e9\u7684\u56fe\u7247\u4e0d\u53ef\u8d85\u8fc7",zhang:n&&n["\u5f20"]||"\u5f20",maxSizeLimit:n&&n["\u56fe\u7247\u9650\u5236\u5927\u5c0f"]||"\u56fe\u7247\u9650\u5236\u5927\u5c0f",widthNoLessThan:n&&n["\u56fe\u7247\u5bbd\u5ea6\u4e0d\u80fd\u5c0f\u4e8e"]||"\u56fe\u7247\u5bbd\u5ea6\u4e0d\u80fd\u5c0f\u4e8e",widthNoMoreThan:n&&n["\u56fe\u7247\u5bbd\u5ea6\u4e0d\u80fd\u5927\u4e8e"]||"\u56fe\u7247\u5bbd\u5ea6\u4e0d\u80fd\u5927\u4e8e",heightNoLessThan:n&&n["\u56fe\u7247\u9ad8\u5ea6\u4e0d\u80fd\u5c0f\u4e8e"]||"\u56fe\u7247\u9ad8\u5ea6\u4e0d\u80fd\u5c0f\u4e8e",heightNoMoreThan:n&&n["\u56fe\u7247\u9ad8\u5ea6\u4e0d\u80fd\u5927\u4e8e"]||"\u56fe\u7247\u9ad8\u5ea6\u4e0d\u80fd\u5927\u4e8e",pixel:n&&n["\u50cf\u7d20"]||"\u50cf\u7d20",horizontal:n&&n["\u8bf7\u4e0a\u4f20\u6a2a\u56fe"]||"\u8bf7\u4e0a\u4f20\u6a2a\u56fe",vertical:n&&n["\u8bf7\u4e0a\u4f20\u7ad6\u56fe"]||"\u8bf7\u4e0a\u4f20\u7ad6\u56fe"},selectSearch:{pleaseSelect:"\u8bf7\u9009\u62e9",multiple:"\u53ef\u591a\u9009"},layout:{formItemLayout:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}}}},"undefined"!==typeof layout&&layout&&layout===Object(layout)&&Object.isExtensible(layout)&&Object.defineProperty(layout,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"layout",filename:"src\\setting.ts"}}),"undefined"!==typeof selectSearch&&selectSearch&&selectSearch===Object(selectSearch)&&Object.isExtensible(selectSearch)&&Object.defineProperty(selectSearch,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"selectSearch",filename:"src\\setting.ts"}}),"undefined"!==typeof uploadImage&&uploadImage&&uploadImage===Object(uploadImage)&&Object.isExtensible(uploadImage)&&Object.defineProperty(uploadImage,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"uploadImage",filename:"src\\setting.ts"}}),"undefined"!==typeof uploadFile&&uploadFile&&uploadFile===Object(uploadFile)&&Object.isExtensible(uploadFile)&&Object.defineProperty(uploadFile,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"uploadFile",filename:"src\\setting.ts"}}),"undefined"!==typeof searchGroup&&searchGroup&&searchGroup===Object(searchGroup)&&Object.isExtensible(searchGroup)&&Object.defineProperty(searchGroup,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"searchGroup",filename:"src\\setting.ts"}})}}]);