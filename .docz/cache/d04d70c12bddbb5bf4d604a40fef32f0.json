{"remainingRequest":"D:\\dp-npm\\dp-react\\node_modules\\thread-loader\\dist\\cjs.js??ref--11-1!D:\\dp-npm\\dp-react\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--11-2!D:\\dp-npm\\dp-react\\node_modules\\source-map-loader\\index.js!D:\\dp-npm\\dp-react\\src\\components\\Table\\index.tsx","dependencies":[{"path":"D:\\dp-npm\\dp-react\\src\\components\\Table\\index.tsx","mtime":1614232416258},{"path":"D:\\dp-npm\\dp-react\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598947540725},{"path":"D:\\dp-npm\\dp-react\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1583805667656},{"path":"D:\\dp-npm\\dp-react\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1608001245112},{"path":"D:\\dp-npm\\dp-react\\node_modules\\source-map-loader\\index.js","mtime":1598947541893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDpcXGRwLW5wbVxcZHAtcmVhY3RcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgImFudGQvZXMvdGFibGUvc3R5bGUiOwppbXBvcnQgX1RhYmxlIGZyb20gImFudGQvZXMvdGFibGUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXGRwLW5wbVxcZHAtcmVhY3RcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJEOlxcZHAtbnBtXFxkcC1yZWFjdFxcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXGRwLW5wbVxcZHAtcmVhY3RcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Cgp2YXIgX3RoaXMgPSB0aGlzLAogICAgX2pzeEZpbGVOYW1lID0gIkQ6XFxkcC1ucG1cXGRwLXJlYWN0XFxzcmNcXGNvbXBvbmVudHNcXFRhYmxlXFxpbmRleC50c3giOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQuc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8vIEB0cy1ub2NoZWNrCmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZHVjZXIsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnOwoKdmFyIENvbW1vblRhYmxlID0gZnVuY3Rpb24gQ29tbW9uVGFibGUocHJvcHMpIHsKICB2YXIgb3duY29sdW1ucyA9IHByb3BzLm93bmNvbHVtbnMsCiAgICAgIHF1ZXJ5QWN0aW9uID0gcHJvcHMucXVlcnlBY3Rpb24sCiAgICAgIHBhcmFtcyA9IHByb3BzLnBhcmFtcywKICAgICAgYmFzZVByb3BzID0gcHJvcHMuYmFzZVByb3BzOyAvLyDliIbpobXmlbDmja4KCiAgdmFyIHBhZ2luYXRpb25Jbml0aWFsID0gewogICAgY3VycmVudDogMSwKICAgIHBhZ2VTaXplOiAxMCwKICAgIHRvdGFsOiAwCiAgfTsgLy8gdGFibGXnu4Tku7blhajph4/mlbDmja4KCiAgdmFyIGluaXRpYWxTdGF0ZSA9IHsKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbkluaXRpYWwsCiAgICBkYXRhU291cmNlOiBbXQogIH07CgogIHZhciByZWR1Y2VyID0gZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7CiAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkOwoKICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHsKICAgICAgY2FzZSAnVE9HR0xFX0xPQURJTkcnOgogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHsKICAgICAgICAgIGxvYWRpbmc6ICFzdGF0ZS5sb2FkaW5nCiAgICAgICAgfSk7CgogICAgICBjYXNlICdTRVRfUEFHSU5BVElPTic6CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwgewogICAgICAgICAgcGFnaW5hdGlvbjogcGF5bG9hZC5wYWdpbmF0aW9uCiAgICAgICAgfSk7CgogICAgICBjYXNlICdTRVRfREFUQV9TT1VSQ0UnOgogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHsKICAgICAgICAgIGRhdGFTb3VyY2U6IHBheWxvYWQuZGF0YVNvdXJjZQogICAgICAgIH0pOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gc3RhdGU7CiAgICB9CiAgfTsKCiAgdmFyIF91c2VSZWR1Y2VyID0gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsU3RhdGUpLAogICAgICBfdXNlUmVkdWNlcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlUmVkdWNlciwgMiksCiAgICAgIHN0YXRlID0gX3VzZVJlZHVjZXIyWzBdLAogICAgICBkaXNwYXRjaCA9IF91c2VSZWR1Y2VyMlsxXTsgLy8g5pS55Y+Y6aG156CBCgoKICBmdW5jdGlvbiBoYW5kbGVUYWJsZUNoYW5nZShwYXlsb2FkKSB7CiAgICBpZiAocGF5bG9hZCkgewogICAgICB2YXIgY3VycmVudCA9IHBheWxvYWQuY3VycmVudDsKICAgICAgZGlzcGF0Y2goewogICAgICAgIHR5cGU6ICdTRVRfUEFHSU5BVElPTicsCiAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgcGFnaW5hdGlvbjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5wYWdpbmF0aW9uKSwge30sIHsKICAgICAgICAgICAgY3VycmVudDogY3VycmVudAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0gLy8gdXNlQ2FsbGJhY2vljIXoo4Xor7fmsYLvvIznvJPlrZjkvp3otZbvvIzkvJjljJbnu4Tku7bmgKfog70KCgogIHZhciBmZXRjaERhdGFXYXJwID0gdXNlQ2FsbGJhY2soZmV0Y2hEYXRhLCBbcGFyYW1zLCBzdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnQsIG93bmNvbHVtbnMsIHF1ZXJ5QWN0aW9uXSk7IC8vIOW8guatpeivt+axguaVsOaNrgoKICBmdW5jdGlvbiBmZXRjaERhdGEoKSB7CiAgICByZXR1cm4gX2ZldGNoRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gX2ZldGNoRGF0YSgpIHsKICAgIF9mZXRjaERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3N0YXRlJHBhZ2luYXRpb24sIGN1cnJlbnQsIHBhZ2VTaXplLCByZXMsIHRvdGFsLCBsaXN0OwoKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkaXNwYXRjaCh7CiAgICAgICAgICAgICAgICB0eXBlOiAnVE9HR0xFX0xPQURJTkcnCiAgICAgICAgICAgICAgfSk7IC8vIOWIhumhteWtl+auteWQjeensOi9rOaNogoKICAgICAgICAgICAgICBfc3RhdGUkcGFnaW5hdGlvbiA9IHN0YXRlLnBhZ2luYXRpb24sIGN1cnJlbnQgPSBfc3RhdGUkcGFnaW5hdGlvbi5jdXJyZW50LCBwYWdlU2l6ZSA9IF9zdGF0ZSRwYWdpbmF0aW9uLnBhZ2VTaXplOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBxdWVyeUFjdGlvbihfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUKICAgICAgICAgICAgICB9LCBwYXJhbXMpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdUT0dHTEVfTE9BRElORycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgLy8g5YWz6ZetbG9hZGluZwogICAgICAgICAgICAgIGRpc3BhdGNoKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdUT0dHTEVfTE9BRElORycKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0ZSA9PT0gMSkgewogICAgICAgICAgICAgICAgdG90YWwgPSByZXMudG90YWwsIGxpc3QgPSByZXMubGlzdDsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ1NFVF9QQUdJTkFUSU9OJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUucGFnaW5hdGlvbiksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdG90YWwKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsgLy8g5Zue5aGrbGlzdOaVsOaNrgoKICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ1NFVF9EQVRBX1NPVVJDRScsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBkYXRhU291cmNlOiBsaXN0CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CiAgICByZXR1cm4gX2ZldGNoRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGZldGNoRGF0YVdhcnAoKTsKICB9LCBbZmV0Y2hEYXRhV2FycF0pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVGFibGUsIE9iamVjdC5hc3NpZ24oewogICAgY29sdW1uczogb3duY29sdW1ucyhmZXRjaERhdGEpLAogICAgcGFnaW5hdGlvbjogc3RhdGUucGFnaW5hdGlvbiwKICAgIGRhdGFTb3VyY2U6IHN0YXRlLmRhdGFTb3VyY2UsCiAgICBsb2FkaW5nOiBzdGF0ZS5sb2FkaW5nLAogICAgb25DaGFuZ2U6IGhhbmRsZVRhYmxlQ2hhbmdlCiAgfSwgYmFzZVByb3BzLCB7CiAgICBfX3NlbGY6IF90aGlzLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogOTUsCiAgICAgIGNvbHVtbk51bWJlcjogNQogICAgfQogIH0pKTsKfTsKCl9fc2lnbmF0dXJlX18oQ29tbW9uVGFibGUsICJ1c2VSZWR1Y2Vye1tzdGF0ZSwgZGlzcGF0Y2hdKGluaXRpYWxTdGF0ZSl9XG51c2VDYWxsYmFja3tmZXRjaERhdGFXYXJwfVxudXNlRWZmZWN0e30iKTsKCnZhciBfZGVmYXVsdCA9IENvbW1vblRhYmxlOwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgQ29tbW9uVGFibGUgIT09ICd1bmRlZmluZWQnICYmIENvbW1vblRhYmxlICYmIENvbW1vblRhYmxlID09PSBPYmplY3QoQ29tbW9uVGFibGUpICYmIE9iamVjdC5pc0V4dGVuc2libGUoQ29tbW9uVGFibGUpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbW1vblRhYmxlLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiQ29tbW9uVGFibGUiLAogICAgICBmaWxlbmFtZTogInNyY1xcY29tcG9uZW50c1xcVGFibGVcXGluZGV4LnRzeCIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZGVmYXVsdCA6IHVuZGVmaW5lZDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoQ29tbW9uVGFibGUsICJDb21tb25UYWJsZSIsICJEOlxcZHAtbnBtXFxkcC1yZWFjdFxcc3JjXFxjb21wb25lbnRzXFxUYWJsZVxcaW5kZXgudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkQ6XFxkcC1ucG1cXGRwLXJlYWN0XFxzcmNcXGNvbXBvbmVudHNcXFRhYmxlXFxpbmRleC50c3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["D:/dp-npm/dp-react/src/components/Table/index.tsx"],"names":["React","useEffect","useReducer","useCallback","CommonTable","props","owncolumns","queryAction","params","baseProps","paginationInitial","current","pageSize","total","initialState","loading","pagination","dataSource","reducer","state","action","payload","type","dispatch","handleTableChange","fetchDataWarp","fetchData","catch","err","res","list"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport React, { useEffect, useReducer, useCallback  } from 'react'\r\nimport { Table } from 'antd'\r\nimport { ArgTableProps, paginationInitialType, initialStateType, actionType } from '.'\r\n\r\nconst CommonTable: React.FC<ArgTableProps> = props => {\r\n  const { owncolumns, queryAction, params, baseProps } = props\r\n\r\n  // 分页数据\r\n  const paginationInitial: paginationInitialType = {\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 0,\r\n  }\r\n\r\n  // table组件全量数据\r\n  const initialState: initialStateType = {\r\n    loading: false,\r\n    pagination: paginationInitial,\r\n    dataSource: []\r\n  }\r\n\r\n  const reducer = (state: initialStateType, action: actionType) => {\r\n    const { payload } = action\r\n    switch (action.type) {\r\n      case 'TOGGLE_LOADING':\r\n        return { ...state, loading: !state.loading }\r\n      case 'SET_PAGINATION':\r\n        return { ...state, pagination: payload.pagination }\r\n      case 'SET_DATA_SOURCE':\r\n        return { ...state, dataSource: payload.dataSource }\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  // 改变页码\r\n  function handleTableChange(payload: any) {\r\n    if (payload) {\r\n      const { current } = payload\r\n      dispatch({\r\n        type: 'SET_PAGINATION',\r\n        payload: {\r\n          pagination: {\r\n            ...state.pagination,\r\n            current\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // useCallback包装请求，缓存依赖，优化组件性能\r\n  const fetchDataWarp = useCallback(\r\n    fetchData,\r\n    [params, state.pagination.current, owncolumns, queryAction],\r\n  )\r\n\r\n  // 异步请求数据\r\n  async function fetchData() {\r\n    dispatch({ type: 'TOGGLE_LOADING' })\r\n    // 分页字段名称转换\r\n    const { current, pageSize } = state.pagination\r\n    let res = await queryAction({ current, pageSize, ...params }).catch(err => {\r\n      dispatch({ type: 'TOGGLE_LOADING' })\r\n      return {}\r\n    })\r\n    // 关闭loading\r\n    dispatch({ type: 'TOGGLE_LOADING' })\r\n    if (res.state === 1) {\r\n      const { total, list } = res\r\n      dispatch({\r\n        type: 'SET_PAGINATION',\r\n        payload: {\r\n          pagination: { ...state.pagination, total }\r\n        }\r\n      })\r\n      // 回填list数据\r\n      dispatch({\r\n        type: 'SET_DATA_SOURCE',\r\n        payload: {\r\n          dataSource: list\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchDataWarp()\r\n  }, [fetchDataWarp])\r\n\r\n  return (\r\n    <Table\r\n      columns={owncolumns(fetchData)}\r\n      pagination={state.pagination}\r\n      dataSource={state.dataSource}\r\n      loading={state.loading}\r\n      onChange={handleTableChange}\r\n      {...baseProps}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CommonTable\r\n"]}]}