---
name: Table
route: /Table
order: 2
sidebar: true
---

# Table 表格

## 用法
```sh
import { Table } from 'dp-react'

const API = {
  getData: async function(req){
    return new Promise((resolve, reject) => {
      axios.get('/api/getList').then(result => {
        resolve(result.data)
      }).catch(err => {
        console.error(err)
        reject(err)
      })
    })
  }
}

// 表单列数据 updateMethod 刷新方法
const getColumn = updateMethod => {
  return [
    {
      title: "姓名",
      dataIndex: "name",
      key: "name",
    },
    {
      title: "手机号",
      dataIndex: "phone",
      key: "phone",
    },
    {
      title: "地址",
      dataIndex: "address",
      key: "address",
    },
    {
      title: '操作',
      key: 'setting',
      width: 200,
      render: (text: any, record: any, index: number) => {
        return (
          <div>
            <Button type="primary" style={{ marginRight: '5px' }}>查看</Button>
            <Popconfirm
              title="此操作将永久删除该项目, 是否继续?"
              okText="确定"
              cancelText="取消"
              onConfirm={() => {
                updateMethod()
              }}
            >
              <Button danger>删除</Button>
            </Popconfirm>
          </div>
        )
      }
    }
  ];
}

<Table
  ownColumns={updatefunc => getColumn(updatefunc)}
  fetchAction={API.getData}
  fetchParams={searchParams}
/>
```

## API文档
| 属性          | 说明                        | 类型                             | 默认值         | 是否必传 |
|-------------|---------------------------|--------------------------------|-------------|------|
| ownColumns  | 表格列数据配置 updateMethod 刷新方法 | (updatefunc:Function)： columns | -           | 是    |
| fetchAction | 异步请求，获取表格数据               | (payload)：Promise              | -           | 是    |
| fetchParams | 请求附加参数                    | {}                             | -           |      |
| baseProps   | Table基础配置                 | {}                             | rowKey默认是id |      |


## 接口返回数据格式
```
{
  state: 1, // 请求成功
  list: [], // 表格数据
  page: {
    current: 1, // 第几页
    pageSize: 10, // 每页数量
    total: 200,  // 数据总量（必须返回）
    totalPage：20 // 分页总量
  }
}
```


